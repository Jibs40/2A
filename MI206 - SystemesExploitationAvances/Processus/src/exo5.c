#include <stdio.h>
#include <stdlib.h>

#include <unistd.h>

#include "utils.h"

#include <sys/types.h>
#include <sys/wait.h>


int main(int argc, char *argv[])
{
    int status;
    int p = fork();
       switch(p){
        case -1: 
            exit_if(1,"fork");

        case 0 :
            sleep(10);
            printf("Mon pere est %d\n",getppid());
            break;  

        default : 
            exit_if(wait(&status)==-1,"Erreur");
            printf("Le fils a fini %d\n", WEXITSTATUS(status));
            break;
        }
    return EXIT_SUCCESS;
}
