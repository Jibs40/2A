#include <stdio.h>
#include <stdlib.h>

#include <unistd.h>

#include "utils.h"

#include <sys/types.h>
#include <sys/wait.h>


int main(int argc, char *argv[])
{
    int r,q,s;
    r = getpid();
    q = getppid();
    printf("Je suis : ID : %d Papa est : PPID : %d\n",r,q);

    int fils = fork();              // Creation du fils
    printf("Fils cree : %d\n",fils);

    fibo(40);                       // Boucle attente
    s = waitpid(fils,0,WNOHANG);    // Attente terminaison du fils

    printf("Je suis : ID : %d\n Papa est : PPID : %d\n, Code retour : %d\n",r,q,s);
}
