#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

#include "utils.h"

int main(int argc, char *argv[])
{
    int status;
    int r;
    pid_t p;
    char *args[] = {
        "/bin/ls",
        "-l",
        "-G",
        NULL
    };

    switch (fork()){
        case -1:  
            exit_if(1,"fork");
        case 0: 
            r = execv("/bin/ls",args);
            exit_if(1,"ls");

        default : 
            p = wait(&status);
            printf("le process %d a termin√© avec le code %d",p,WIFEXITED(status));
    }

      printf("Hello world\n");

    return EXIT_SUCCESS;
}
