#include <stdlib.h>
#include <stdio.h>

#include <unistd.h>
#include "utils.h"

int main(int argc, char *argv[], char *env[])
{
    int status;
    switch(fork()) {
        case -1:
            exit_if(1, "fork");
        case 0: // cas du fils
            printf("Je suis le fils\n");
            fibo(42);
            printf("J'ai fini\n");
            break;
        default: // cas du p√®re
            exit_if(wait(&status) == -1, "wait");
            printf("le fils a fini\n");
            break;
    }

    return EXIT_SUCCESS;
}
